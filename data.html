<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Data Visualization</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>

<body>
  <nav class="myNav">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="background.html">Background</a></li>
      <li><a href="data.html">Data Visualization</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>

  <section id="data-visualization">
    <h2>Meditation Data Analysis</h2>
    <p>This chart shows how strong the scientific evidence is for different benefits of meditation and mindfulness. Each
      bar represents one benefit, and the height shows the evidence strength on a scale from 0 to 4. Hovering over the
      bars also displays the evidence strength.</p>

    <!-- Plotly chart will be drawn here -->
    <div id="meditationChart"></div>
  </section>

<script>

  Papa.parse("meditationData.csv", {
    download: true,
    header: true,
    complete: function (results) {
      const rows = results.data;

      const benefits = rows.map(r => r.benefit);
      const strengths = rows.map(r => Number(r.evidence_strength));

      const data = [{
        type: "bar",
        x: benefits,
        y: strengths
      }];

        const layout = {
          title: {
            text: "Strength of Scientific Evidence for Meditation Benefits",
            font: {
              size: 22,
              color: "#2c3e50"
            }
          },
          paper_bgcolor: "#ffffff",
          plot_bgcolor: "#fafafa",
          yaxis: {
            title: "Evidence Strength (0 = None, 4 = Strong)",
            range: [0, 4],
            gridcolor: "#ddd"
          },
          xaxis: {
            tickangle: -30,
            tickfont: {
              size: 12
            }
          },
          margin: {
            t: 60,
            l: 60,
            r: 30,
            b: 120
          }
        };

      Plotly.newPlot(
        "meditationChart",
        data,
        layout,
        { responsive: true }
      );
    }
  });
</script>
</body>
</html>
